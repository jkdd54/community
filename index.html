<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Site</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Press Start 2P', cursive;
        }

        .container-center {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
        }

        .logo {
            max-width: 20%;
            height: auto;
        }

        .typing {
            font-size: 1.25rem;
            white-space: pre-wrap;
            overflow: hidden;
            border-right: 0.15em solid orange;
            margin-top: 20px;
            width: 80%;
            max-width: 600px;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: orange }
        }

        nav {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
        }

        nav a {
            font-family: 'Press Start 2P', cursive;
        }
    </style>
    <!-- Include World ID SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@worldcoin/idkit@1.0.4/dist/index.umd.min.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const textElement = document.getElementById('typing-text');
            const text = textElement.textContent;
            textElement.textContent = '';

            let index = 0;

            function type() {
                if (index < text.length) {
                    textElement.textContent += text.charAt(index);
                    index++;
                    setTimeout(type, 50);
                } else {
                    textElement.style.borderRight = 'none'; // Remove the blinking cursor after typing
                }
            }

            type();

            // World ID Widget 설정
            const worldIDButton = document.getElementById('world-id-login');

            worldIDButton.addEventListener('click', function() {
                window.IDKit.open({
                    app_id: "app_82a1bab466c1d1ae219e5049512aef97",
                    action: "koreandev",
                    signal: "login",
                    onSuccess: (response) => {
                        console.log("Verification successful:", response);
                        // 성공적인 인증 처리
                    },
                    onError: (error) => {
                        console.error("Verification failed:", error);
                        // 인증 실패 처리
                    }
                });
            });
        });
    </script>
</head>
<body class="bg-gray-100">
    <nav class="p-4 text-black">
        <a href="index.html" class="mr-4">Home</a>
        <a href="create_post.html" class="mr-4">Create Post</a>
        <a href="post_list.html" class="mr-4">All Posts</a>
    </nav>
    <div class="container-center">
        <img src="logo.svg" alt="Logo" class="logo mx-auto">
        <div class="typing text-gray-700" id="typing-text">
            월드 커뮤니티는 세계 최초로 월드 ID만 사용하는 완전 영지식 증명 커뮤니티입니다.
        </div>
        <button id="world-id-login" class="bg-blue-600 text-white px-4 py-2 rounded-md mt-4">Verify with World ID</button>
    </div>
</body>
</html>
