<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Site</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@worldcoin/idkit@1.0.0/dist/idkit.js"></script>
</head>
<body class="bg-gray-100">
    <nav class="p-4 text-black">
        <a href="index.html" class="mr-4">Home</a>
        <a href="create_post.html" class="mr-4">Create Post</a>
        <a href="post_list.html" class="mr-4">All Posts</a>
        <button id="login-button" class="bg-blue-600 text-white px-4 py-2 rounded-md">월드 ID로 로그인</button>
    </nav>
    <div class="container-center">
        <img src="logo.svg" alt="Logo" class="logo mx-auto">
        <div class="typing text-gray-700" id="typing-text">
            세계 최초로 월드 ID만 사용하는 완전 영지식 증명 커뮤니티입니다.
        </div>
    </div>
    <script>
        const worldID = new WorldID({
            clientID: 'app_82a1bab466c1d1ae219e5049512aef97',
            identifier: 'koreandev',
            redirectURI: window.location.href,
            onSuccess: (response) => {
                console.log('Authenticated:', response);
                localStorage.setItem('worldID', JSON.stringify(response));
                window.location.reload();
            },
            onFailure: (error) => {
                console.error('Authentication failed:', error);
            }
        });

        document.getElementById('login-button').addEventListener('click', () => {
            worldID.signIn();
        });

        document.addEventListener('DOMContentLoaded', function() {
            const textElement = document.getElementById('typing-text');
            const text = textElement.textContent;
            textElement.textContent = '';

            let index = 0;

            function type() {
                if (index < text.length) {
                    textElement.textContent += text.charAt(index);
                    index++;
                    setTimeout(type, 50);
                } else {
                    textElement.style.borderRight = 'none';
                }
            }

            type();
        });
    </script>
</body>
</html>
